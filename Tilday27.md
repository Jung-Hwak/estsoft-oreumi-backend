# 📝 Java Web 개발 실무: JSP & CURD 

JSP의 핵심 이론, 이를 활용한 실전 회원 관리 및 게시판 CRUD 로직을 완벽하게 구현했다. 

---

## 1. JSP (Java Server Pages) 핵심 요약
> **개념:** HTML 내에 Java 코드를 삽입하여 동적인 웹 페이지를 만드는 기술. 실행 시 서블릿(.java)으로 변환된다.

### 1-1. JSP 태그 및 지시자
* **지시자 `<%@ %>`**: 페이지 설정(page), 파일 포함(include) 등에 사용.
    * `contentType`, `pageEncoding="UTF-8"`, `import` 등이 주요 속성.
* **스크립트릿 `<% %>`**: JSP 안에서 자바 로직을 실행. (최근에는 가독성을 위해 지양함)
* **표현식 `<%= %>`**: 자바의 변수나 계산 결과를 바로 출력. (끝에 세미콜론 `;` 금지!)
* **주석**: `<%-- --%>`는 클라이언트에게 전달되지 않는 서버 전용 주석이라 보안에 좋음.

### 1-2. 내장 객체와 Scope (접근 범위)
* **주요 객체**: `request`(요청), `response`(응답), `session`(인증), `out`(출력), `application`(전체) 등.
* **접근 범위**: `page` < `request` < `session` < `application`.
    * 게시판 목록은 보통 **request**에 담고, 로그인 유저 정보는 **session**에 담는다.

---

## 2. 회원 관리 & 로그인 인증 로직
> **핵심:** 유저 정보를 DB와 대조하고 세션(Session)을 통해 인증 상태를 유지한다.

* **MemberDAO 구현**: `isValidLogin` 메서드로 DB에 해당 유저가 있는지 확인. `SELECT count(*)`를 써서 결과가 1이면 로그인 성공으로 처리.
* **VO(Value Object)**: DB 테이블의 한 행을 자바 객체(`MemberVO`)로 옮겨 담는 그릇. 필드명과 DB 컬럼명을 맞추는 게 관례.
* **세션(Session) 활용**: 로그인 성공 시 `session.setAttribute("memberVO", vo)`를 해서 서버 메모리에 유저 정보를 저장. 
* **보안(접근 제어)**: 페이지마다 `session.getAttribute`를 확인하여 로그인을 안 한 유저는 `sendRedirect`로 로그인 페이지로 쫓아냄.

---

## 3. CRUD 및 데이터 흐름
> **핵심:** Parameter(유저가 보낸 값)와 Attribute(서버가 담은 값)의 구분이 가장 중요하다.

* **글쓰기(Create)**: `post` 방식으로 제목/내용을 받고, 작성자(`writer`)는 세션에서 로그인 정보를 뽑아 자동으로 매핑. 완료 후 `redirect` 필수.
* **조회(Read)**: DAO에서 리스트를 받아와 `request`에 바인딩 후 `forward`로 화면에 출력. 상세보기 시 조회수(`hit`) 증가 쿼리 동시 실행.
* **수정/삭제(Update/Delete)**: 반드시 백엔드에서 `세션 유저 == 작성자`인지 대조하여 무단 수정을 방지함.
* **PRG 패턴**: 글쓰기 완료 후 새로고침 시 도배되는 걸 막기 위해 `Post -> Redirect -> Get` 흐름을 준수함.

---

## 4. 실무형 리팩토링 및 환경 설정
> **"좋은 코드"**를 위해 하드코딩을 제거하고 성능을 최적화하는 단계.

* **DBManager (Singleton)**: DAO 객체를 하나만 생성해 공유하고, 중복되는 JDBC 연결 코드를 공통화함. 자원 해제는 생성의 역순(`Rs -> Pstmt -> Conn`)!
* **DBCP & JNDI (커넥션 풀)**: 톰캣 서버에 미리 연결 객체를 만들어 두고 빌려 쓰는 방식. 속도가 훨씬 빠름.
* **설정 외주화 (`db.properties`)**: DB 접속 정보(계정, 비번 등)를 외부 파일로 분리하여 유지보수성 향상.
* **예외 처리**: `page` 지시자의 `errorPage` 속성이나 `web.xml` 설정을 통해 404, 500 에러 페이지를 별도 관리함.