<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Example</title>
</head>
<body>
    <script>
        // ---------------------------------------------------------------------
        // 2초마다 메시지 다섯 개를 브라우저 콘솔에 하나씩 차례대로 출력

        // 출력한 메시지를 담고 있는 배열
        const messages = [
            "Time is gold.",
            "No sweat, no sweet.",
            "Asking costs nothing.",
            "Step by step goes a long way.",
            "You will never know until you try."
        ];

        // 출력할 원소의 인덱스를 나타내는 인덱스 변수
        // → 0, 1, 2, 3, 4;
        let i = 0;

        // 타이머의 시간 간격을 나타내는 변수
        const INTERVAL = 2000;
        
        // window.setInterval 메서드로 타이머를 등록
        // → 나중에 타이머를 해제하기 위해, 타이머를 등록한 다음 setInterval 메서드가 반환하는
        //   타이머 ID를 변수에 대입해 둔다.
        const timerId = window.setInterval(function () {
            // 이 함수는 setInterval 메서드로 등록한 타이머에 의해 2000ms 마다 실행된다.

            // 배열 messages의 원소 중에서 인덱스 변수 i인 원소를 출력
            console.log('%d. %s', i + 1, messages[i]);

            // 2000ms가 지난 다음, 타이머에 의해 이 함수가 다시 실행됐을 때를 위해 인덱스 변수를 증가
            i++;

            // 메시지 다섯 개를 모두 출력하고 나서 타이머를 해제
            // A. window.setTimout 메서드로 타이머를 등록해서, 10초가 지난 다음에 
            //    setInterval 메서드로 등록한 타이머를 해제
            // B. 이 함수가 다섯 번 실행된 다음에 타이머를 해제
            //    → 인덱스 변수 i가 5이면, 위에서 setInterval 메서드로 등록한 타이머를 해제
            if (i === messages.length) {
                console.log('CLEAR: timerId =' + timerId);

                // 위에서 window.setInterval 메서드로 등록한 타이머를 해제
                window.clearInterval(timerId);
            }
            
        }, INTERVAL);

        // 디버그 메시지(debug message)
        console.log('SET: timerId = ' + timerId);

        /*
        // A. window.setTimout 메서드로 타이머를 등록해서, 10초가 지난 다음에 
        //    setInterval 메서드로 등록한 타이머를 해제
        window.setTimeout(function () {
            // 이 함수는 setTimeout 메서드로 등록한 타이머에 의해 10000ms가 지난 다음 실행

            console.log('CLEAR: timerId =' + timerId);

            // 위에서 window.setInterval 메서드로 등록한 타이머를 해제
            window.clearInterval(timerId);
        }, INTERVAL * messages.length);
        */
        
    </script>

</body>
</html>