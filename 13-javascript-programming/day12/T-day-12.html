<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Example</title>
    <link rel="stylesheet" href="reset.css">
        <style>
            /* --------------------------------------------------------------- */
            /* 이미지 갤러리(image gallery) */
            #gallery {
                /* <li> 요소들을 나란히 배치하기 위해 #gallery 요소를 플렉스 컨테이너로 설정 */
                display: flex;
                gap: 10px;
                list-style: none;
            }

            #gallery > li a {
                display: block;
            }

            #gallery > li > a > img {
                display: block;
                width: 200px;

                border: 4px solid white;
                box-shadow:4px 4px 4px rgba(0, 0, 0, 0.4);
            }

            /* 오버레이 레이어(overlay layer) */
            #overlay {
                /* 뷰포트(viewport)를 기준으로 전체를 차지하도록 배치 */
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;

                /* RGBA 생삭 단위로 배경색에 투명도를 설정 */
                background-color: rgba(0, 0, 0, 0.8);

                /* 처음에는 보이지 않도록 설정 */
                display: none;
            }

            #overlay > img {
                /* #overalay 요소의 영역을 기준으로 가운데에 배치 */
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);

                border: 10px solid white;

                /* 이미지의 최대 크기를 지정 */
                max-width: 80%;
                max-height: 80%;
            }

        </style>

        <script>
            window.addEventListener("load", function () {
                // 이벤트 핸들러: window 객체에 load 이벤트가 발생하면 실행할 기능

                // ------------------------------------------------------------------
                // 이미지 갤러리(image gallery)
                // 1. #gallery 요소의 <a> 요소를 클릭하면
                // 1.1. <a> 요소의 href 속성 값을 큰 이미지를 나타내는 <img> 요소의 src 속성 값으로 설정
                // 1.2. #overlay 요소를 화면에 나타나게 한다 
                // 2. #overlay 요소를 클릭하면 
                // 2.1. #overlay 요소를 화면에서 사라지게 한다. 

                // ------------------------------------------------------------------
                // 프로그램에서 참조하는 요소들을 미리탐색
                const galleryItems = document.querySelectorAll("#gallery > li > a");
                const overlay = document.getElementById("overlay");
                const image = overlay.firstChild;

                // 1. #gallery 요소의 <a> 요소를 클릭하면
                galleryItems.forEach(function (element) {
                    element.addEventListener('click', function (event) {
                        // 이벤트 핸들러: <a> 요소에 click 이벤트가 발생하면 실행할 기능
                        
                        // <a> 요소의 기본 이벤트를 제거
                        event.preventDefault();

                        // 1.1. <a> 요소의 href 속성 값을 큰 이미지를 나타내는 <img> 요소의 
                        //      src 속성 값으로 설정
                        image.src = this.href;

                        // 1.2. #overlay 요소를 화면에 나타나게 한다 
                        overlay.style.display = 'block';
                        
                    }); // a.onclick

                });

                // 2. #overlay 요소를 클릭하면 
                overlay.addEventListener('click', function () {
                    // 2.1. #overlay 요소를 화면에서 사라지게 한다. 
                    overlay.removeAttribute('style');
                });
        
                // <img> 요소에서 발생한 click 이벤트를 #overlay 요소에 전달하지 않도록
                image.addEventListener('click', function (event) {
                    // click 이벤트의 전달을 제거
                    event.stopPropagation();
                });

            }); // window.onload
        </script>
    </head>
    <body>

        <!-- 오버레이 레이어(overlay layer) -->
        <div id="overlay">
            
            <img src="https://i.imgur.com/7Mu8BZg.png" alt="Image">
            
        </div>  <!-- /#overlay -->
        
        <!-- 이미지 갤러리(image gallery) -->
        <ul id="gallery">
            <li>
                <a href="https://i.imgur.com/7Mu8BZg.png">
                    <img src="https://i.imgur.com/RDQGlFG.png" alt="Thumbnail">
                </a>
            </li>
            <li>
                <a href="https://i.imgur.com/kwD72gU.png">
                    <img src="https://i.imgur.com/VaVlu0Y.png" alt="Thumbnail">
                </a>
            </li>
            <li>
                <a href="https://i.imgur.com/qOU9yuQ.png">
                    <img src="https://i.imgur.com/AJkIaya.png" alt="Thumbnail">
                </a>
            </li>
            <li>
                <a href="https://i.imgur.com/YfsvbdE.png">
                    <img src="https://i.imgur.com/Y51UhBK.png" alt="Thumbnail">
                </a>
            </li>
            <li>
                <a href="https://i.imgur.com/3KWpPQv.png">
                    <img src="https://i.imgur.com/gbPCnTb.png" alt="Thumbnail">
                </a>
            </li>
        </ul> <!-- /#gallery -->

    </body>
</html>