# Java 서블릿 & 웹 프로그래밍 (1~7교시)

오늘 1교시부터 7교시까지 배운 핵심 내용을 나중에 보기 편하게 정리함. 
주로 서블릿 데이터 공유 방식이랑 CRUD 구현, 그리고 세션/쿠키 개념이 핵심이었음!

---

## 1. 데이터 주고받기 (Data Binding) & MVC 맛보기
서블릿끼리 데이터를 어떻게 공유하는지, 그리고 역할을 어떻게 나누는지 배움.

### ** 데이터 바인딩 (Data Binding)**
* **왜 하나요?**: 서블릿에서 DB 조회한 결과를 화면(JSP나 다른 서블릿)에 전달하려고 사용함.
* **어떻게 하나요?**: `setAttribute("이름", 값)`으로 저장하고 `getAttribute("이름")`으로 꺼내 쓰기.
* **주의할 점**: 꺼낼 때 타입이 `Object`라 형변환(Casting)을 꼭 해줘야 함. 
  - 리스트 같은 거 제네릭 타입 때문에 노란 줄(경고) 뜨면 `@SuppressWarnings("unchecked")` 붙여서 무시 가능!

### ** MVC 패턴 기초**
* **Controller (Servlet)**: 비즈니스 로직 처리, DB 갔다 오기.
* **View (JSP/Servlet)**: 화면 그리기 담당.
* 서로 역할을 딱딱 나눠야 코드가 안 꼬임.

---

## 2. 데이터 유효 범위(Scope)와 페이지 이동
데이터를 어디까지 유지할 건지, 페이지를 어떻게 넘길 건지가 엄청 중요함.

### ** 꼭 외워야 할 Scope 3가지**
1. **Request**: 딱 이번 요청이랑 응답까지만! (포워드 할 때 제일 많이 씀)
2. **Session**: 브라우저 끄기 전까지! (로그인 정보 저장용)
3. **Application(Context)**: 서버 켜져 있는 내내! (전체 공용 데이터)

### ** 페이지 이동 방식 (헷갈림 주의!)**
* **Forward (포워드)**: "몸만 이동". 서버 안에서 몰래 넘겨주는 거라 URL 안 바뀜. **데이터(Request) 그대로 들고 감.**
* **Redirect (리다이렉트)**: "아예 새로고침". 브라우저한테 새 주소로 다시 가라고 시킴. URL 바뀜. **기존 데이터 다 사라짐.**

---

## 3. 회원 관리 기능(CRUD) 만들기
실제로 DB랑 연동해서 회원 등록, 조회, 수정, 삭제 로직을 짜봄.

* **등록 (Create)**: 폼에서 `POST`로 보낼 때 한글 깨지니까 `setCharacterEncoding("utf-8")` 꼭 넣기!
* **조회/삭제**: URL 파라미터(`command=delMember`)로 어떤 기능 실행할지 구분해서 처리함.
* **수정 (Update)**: 제일 복잡했음. **정보 조회 -> 폼에 보여주기 -> DB 반영** 순서임.
  - 특히 수정할 때 ID 값은 안 보여도 서버에 보내야 하니까 `<input type="hidden">` 쓰는 게 꿀팁!

---

## 4. 로그인 유지하기 (Cookie & Session)
웹은 원래 "나를 기억 못 함(Stateless)" 그래서 쿠키랑 세션을 씀.

### ** 쿠키 vs 세션**
* **쿠키**: 사용자 컴퓨터에 저장. 보안은 좀 낮지만 서버 부담 없음. (ex: "아이디 기억하기")
* **세션**: 서버 메모리에 저장. 보안이 좋아서 로그인 정보 저장할 때 필수!

### ** 로그인 구현 로직**
1. 사용자가 아이디/비번 제출.
2. 서블릿이 DB 확인 후 맞으면 세션 생성 (`request.getSession()`).
3. 세션에 "로그인 됨" 표시 남기기.
4. 나중에 다른 페이지 갈 때마다 세션 확인해서 로그인했는지 체크함.
5. 로그아웃할 때는 `session.invalidate()`로 세션 펑! 터뜨리기.