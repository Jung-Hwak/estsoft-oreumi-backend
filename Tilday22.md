# SQL 기초 및 데이터 활용 수업 정리 (2026-01-07)

## 1 데이터베이스의 틀 만들기 (DDL)
테이블 구조를 정의하고 관리하는 **DDL(Data Definition Language)**의 핵심과 제약 사항을 학습했습니다.

* **ALTER TABLE (구조 변경)**
    * `ADD`: 새로운 컬럼을 추가합니다. 별도의 설정이 없으면 테이블의 마지막 순서로 붙습니다.
    * `DROP COLUMN`: 특정 컬럼을 삭제하며, 이때 해당 컬럼에 들어있던 데이터도 함께 영구 삭제되니 주의해야 합니다.
    * `MODIFY` / `CHANGE`: 컬럼의 데이터 타입이나 이름을 변경합니다. 이미 데이터가 쌓여있는 경우, 타입 변경 시 데이터 유실 가능성을 항상 고려해야 합니다.
* **제약 조건(Constraint)의 이해**
    * `PRIMARY KEY`: 중복을 허용하지 않고 NULL값을 가질 수 없는 고유 식별자입니다.
    * `FOREIGN KEY`: 타 테이블과의 관계를 정의하며 데이터 무결성을 유지합니다.
    * `NOT NULL`, `UNIQUE`, `DEFAULT`: 데이터 입력 규칙을 설정하여 깨끗한 데이터를 유지하는 역할을 합니다.
* **DROP vs TRUNCATE**
    * `DROP`: 테이블 자체를 삭제합니다. (틀 + 데이터 모두 삭제)
    * `TRUNCATE`: 테이블 구조는 남기고 데이터만 즉시 전체 삭제하여 초기화합니다.

---

## 2 데이터 조회의 기본 (SELECT & WHERE)
원하는 데이터를 정확하게 필터링하기 위한 **조회 조건** 설정법을 익혔습니다.

* **기본 구조**: `SELECT [컬럼명] FROM [테이블명] WHERE [조건]`
* **WHERE 절 연산자 디테일**
    * `BETWEEN A AND B`: 숫자뿐만 아니라 날짜 데이터 범위를 조회할 때도 매우 유용합니다.
    * `IN (값1, 값2...)`: 여러 조건 중 하나라도 만족하는 데이터를 찾을 때 OR 연산자를 여러 번 쓰는 것보다 성능과 가독성 면에서 우수합니다.
    * `LIKE` 패턴 매칭: 
        * `%문자`: 해당 문자로 끝나는 데이터.
        * `문자%`: 해당 문자로 시작하는 데이터.
        * `%문자%`: 해당 문자가 포함된 모든 데이터.
    * `IS NULL / IS NOT NULL`: 데이터 값이 비어있는 경우를 찾을 때 `=` 연산자 대신 반드시 IS를 사용해야 합니다.

---

## 3 보기 좋은 데이터 정렬 (ORDER BY & LIMIT)
수많은 데이터 중 필요한 순서대로, 필요한 양만큼만 가져오는 **출력 제어** 기술입니다.

* **ORDER BY (다중 정렬 정석)**
    * `ASC` (오름차순), `DESC` (내림차순).
    * 기준 컬럼을 여러 개 지정할 수 있습니다. (예: `ORDER BY 날짜 DESC, 이름 ASC` -> 최신순으로 정렬하되 날짜가 같으면 가나다순 정렬)
* **DISTINCT (중복 제거)**: 특정 컬럼에 어떤 종류의 데이터들이 들어있는지 카테고리를 파악할 때 유용합니다.
* **LIMIT & OFFSET (페이징 처리)**
    * `LIMIT 10`: 상위 10개만 출력.
    * `LIMIT 5, 10`: 5번째 행 다음부터 10개를 출력하여 웹 페이지의 다음 페이지 기능을 구현합니다.
* **ALIAS (별칭)**: `AS`를 사용해 컬럼명을 한글로 바꾸거나, 수식 계산 결과에 이름을 붙여 가독성을 높입니다.

---

## 4 데이터 요약과 그룹화 (집계 함수 & GROUP BY)
데이터를 그룹으로 묶어 통계 정보를 도출하는 **분석용 SQL**의 핵심입니다.

* **주요 집계 함수**
    * `COUNT(*)`: 전체 행의 개수.
    * `COUNT(컬럼명)`: NULL을 제외한 데이터의 개수.
    * `SUM()`, `AVG()`, `MAX()`, `MIN()`: 합계, 평균, 최댓값, 최솟값.
* **GROUP BY (그룹화)**: 특정 기준(부서, 성별, 지역 등)으로 데이터를 묶어 집계 함수를 적용합니다.
* **HAVING (그룹 전용 조건)**: **WHERE절은 그룹화 전**의 행을 필터링하고, **HAVING절은 그룹화 후** 계산된 집계 결과(예: 평균 80점 이상인 팀만)를 필터링합니다.

---

## 5교시: 데이터 수정/삭제 및 테이블 연결 (UPDATE/DELETE & JOIN)
데이터를 안전하게 변경하고, 분산된 테이블을 하나로 합치는 방법을 배웠습니다.

* **데이터 변경 시 주의사항**
    * `UPDATE ... SET ... WHERE`: 수정 시 WHERE 절을 빼먹으면 모든 행이 동일한 값으로 바뀌는 대참사가 일어납니다.
    * `DELETE FROM ... WHERE`: 삭제 전 항상 `SELECT`로 대상 데이터를 먼저 확인하는 습관이 필요합니다.
* **JOIN (조인)의 기초와 필요성**
    * **INNER JOIN**: 두 테이블 간에 공통된 컬럼(Key) 값이 존재하는 데이터만 결합하여 출력합니다.
    * **ON 절**: 테이블을 연결하는 기준이 되는 조건을 명시합니다.
    * **테이블 별칭 활용**: 여러 테이블을 조인할 때는 `테이블명.컬럼명`이 길어지므로 별칭을 부여해 쿼리를 간결하게 작성합니다.
